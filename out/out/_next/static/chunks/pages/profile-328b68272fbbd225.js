(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[277],{6896:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/profile",function(){return s(5224)}])},5224:function(e,t,s){"use strict";s.r(t),s.d(t,{Home:function(){return r}});var l=s(5893),n=s(7294),i=s(5007),a=s(6462),o=s(9019);let r=()=>{let e=(0,i.v9)(o.dy),t=(0,i.v9)(e=>e.posts.posts),s=(0,i.I0)(),[r,c]=(0,n.useState)(""),[_,u]=(0,n.useState)(""),[p,d]=(0,n.useState)(null),m=e=>{d(e),c(e.title),u(e.content)};return(0,n.useEffect)(()=>{JSON.parse(sessionStorage.getItem("posts")||"[]").forEach(e=>{s((0,a.q2)(e))})},[]),(0,l.jsxs)("main",{className:"profile",children:[(0,l.jsxs)("div",{className:"profile__header",children:[(0,l.jsxs)("h1",{className:"profile__title",children:["Здравствуйте, ",e.username]}),(0,l.jsx)("p",{className:"profile__email",children:e.email})]}),(0,l.jsxs)("form",{className:"profile__form",onSubmit:p?e=>{e.preventDefault(),p&&s((0,a.CP)({id:p.id,title:r,content:_})),d(null),c(""),u("")}:e=>{e.preventDefault();let t={id:Date.now(),title:r,content:_};s((0,a.q2)(t)),c(""),u("")},children:[(0,l.jsxs)("div",{className:"profile__inputs",children:[(0,l.jsxs)("div",{className:"profile__title-group",children:[(0,l.jsx)("label",{className:"profile__input-title",htmlFor:"title",children:"Заголовок:"}),(0,l.jsx)("input",{className:"profile__input",type:"text",id:"title",value:r,onChange:e=>c(e.target.value),required:!0})]}),(0,l.jsxs)("div",{className:"profile__content-group",children:[(0,l.jsx)("label",{className:"profile__input-title",htmlFor:"content",children:"Содержимое:"}),(0,l.jsx)("textarea",{className:"profile__textarea",id:"content",value:_,onChange:e=>u(e.target.value)})]})]}),(0,l.jsx)("button",{className:"profile__submit-button",type:"submit",children:p?"Сохранить изменения":"Создать заметку"})]}),(0,l.jsx)("h2",{className:"profile__title",children:"Заметки:"}),0!=t.length?(0,l.jsx)("ul",{className:"profile__posts",children:t.map(e=>(0,l.jsxs)("li",{className:"post",children:[(0,l.jsx)("h3",{className:"post__title",children:e.title}),(0,l.jsx)("p",{className:"post__content",children:e.content}),(0,l.jsxs)("div",{className:"post__buttons",children:[(0,l.jsx)("button",{className:"post__button",onClick:()=>m(e),children:"Редактировать"}),(0,l.jsx)("button",{className:"post__button",onClick:()=>s((0,a.fR)(e.id)),children:"Удалить"})]})]},e.id))}):(0,l.jsx)("span",{className:"profile__no-content",children:"Здесь пока ничего нет"})]})};t.default=r}},function(e){e.O(0,[888,774,179],function(){return e(e.s=6896)}),_N_E=e.O()}]);